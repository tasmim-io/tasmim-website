@use "../../sass/index" as *;

.visualCard {
  width: 100%;
  max-width: 360px;
  border-radius: radius("md");
  border: 1px solid color("border-darkest");
  background-color: color("background-darker");
  box-shadow: shadow("xl");
  transition: transform 0.5s ease;
}

.visualClarity {
  padding: space(6);
  transform: rotate(2deg);

  .visualHeaderRow {
    display: flex;
    align-items: center;
    gap: space(4);
    padding-bottom: space(4);
    border-bottom: 1px solid color("border-darkest");
    margin-bottom: space(4);
  }

  .visualAvatar {
    width: 48px;
    height: 48px;
    border-radius: 999px;
    background-color: color("background-dark");
    display: flex;
    align-items: center;
    justify-content: center;
    color: color("text-tertiary");
  }

  .visualTitle {
    @include typography("body");
    color: color("text-inverse");
    font-weight: 700;
    margin-bottom: 2px;
  }

  .visualMeta {
    @include typography("body-caption");
    color: color("text-tertiary");
  }

  .visualSkeleton {
    display: flex;
    flex-direction: column;
    gap: space(2);

    span {
      display: block;
      height: 8px;
      border-radius: 999px;
      background-color: color("background-dark");
    }

    span:nth-child(1) {
      width: 75%;
    }

    span:nth-child(2) {
      width: 100%;
    }

    span:nth-child(3) {
      width: 85%;
    }
  }

  .visualStatusRow {
    margin-top: space(6);
  }

  .visualStatusPill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    border-radius: 999px;
    background-color: color("feedback-success-bg-dark");
    color: color("feedback-success");
    @include typography("label");
    font-weight: 700;
  }
}

.visualProposal {
  overflow: hidden;
  transform: rotate(-1deg);

  .visualProposalHeader {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: space(4);
    background-color: color("background-dark");
    color: color("text-inverse");
    @include typography("body-caption");
    font-weight: 600;
    letter-spacing: 0.6px;
  }

  .visualProposalBody {
    padding: space(6);
    display: flex;
    flex-direction: column;
    gap: space(4);
  }

  .visualProposalRow {
    display: flex;
    align-items: center;
    justify-content: space-between;
    @include typography("body-small");
    color: color("text-tertiary");

    strong {
      color: color("text-inverse");
      font-weight: 700;
    }
  }

  .visualProposalButton {
    margin-top: space(2);
    padding: space(3);
    border-radius: radius("sm");
    background-color: color("text-inverse");
    color: color("background-darker");
    text-align: center;
    @include typography("label");
    font-weight: 700;
  }
}

.visualSprint {
  padding: space(6);
  transform: rotate(1deg);

  .visualSprintHeader {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: space(6);
  }

  .visualSprintTitle {
    display: flex;
    align-items: center;
    gap: space(3);
    @include typography("body");
    color: color("text-inverse");
    font-weight: 700;
  }

  .visualSprintIcon {
    width: 32px;
    height: 32px;
    border-radius: radius("sm");
    border: 1px solid color("border-darkest");
    background-color: color("background-dark");
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .visualSprintStatus {
    padding: 4px 8px;
    border-radius: 999px;
    background-color: color("background-dark");
    color: color("feedback-warning");
    @include typography("label");
    font-weight: 700;
  }

  .visualSprintTasks {
    display: flex;
    flex-direction: column;
    gap: space(4);
    margin-bottom: space(6);
  }

  .visualSprintTask {
    display: flex;
    align-items: center;
    gap: space(3);
    padding: space(4);
    border-radius: radius("sm");
    border: 1px solid color("border-darker");
    background-color: color("background-dark");
    @include typography("body-small");
    color: color("text-inverse");
  }

  .visualSprintTaskDone {
    opacity: 0.6;
    text-decoration: line-through;
  }

  .visualSprintCheckbox {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    border: 1px solid color("border-default");
    background-color: color("background-darker");
    display: flex;
    align-items: center;
    justify-content: center;
    color: color("text-quaternary");
    flex-shrink: 0;
  }

  .visualSprintComment {
    display: flex;
    align-items: flex-start;
    gap: space(3);
    padding-top: space(4);
    border-top: 1px solid color("border-darkest");
  }

  .visualSprintAvatar {
    width: 28px;
    height: 28px;
    border-radius: 999px;
    background-color: color("accent-primary");
    color: color("text-inverse");
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 700;
    flex-shrink: 0;
  }

  .visualSprintBubble {
    @include typography("body-small");
    color: color("text-tertiary");
    background-color: color("background-dark");
    border-radius: radius("sm");
    border-top-left-radius: 0;
    padding: space(3);
  }
}

.visualLaunch {
  padding: space(2);
  transform: rotate(-2deg);

  .visualLaunchPanel {
    border-radius: radius("md");
    border: 1px solid color("feedback-success");
    background-color: color("feedback-success-bg-dark");
    padding: space(6);
    text-align: center;

    h4 {
      @include responsive-typography("heading-block");
      color: color("text-inverse");
      margin-bottom: space(2);
      font-weight: 600;
    }

    p {
      @include typography("body-small");
      color: color("text-tertiary");
      margin-bottom: space(4);
    }
  }

  .visualLaunchIcon {
    width: 64px;
    height: 64px;
    border-radius: 999px;
    background-color: color("background-dark");
    display: flex;
    align-items: center;
    justify-content: center;
    color: color("feedback-success");
    margin: 0 auto space(4);
  }

  .visualLaunchDots {
    display: flex;
    justify-content: center;
    gap: 6px;

    span {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background-color: color("feedback-success");
      animation: pulse 1.4s ease-in-out infinite;
    }

    span:nth-child(2) {
      animation-delay: 0.15s;
    }

    span:nth-child(3) {
      animation-delay: 0.3s;
    }
  }
}

@keyframes pulse {
  0% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.4;
  }
}
